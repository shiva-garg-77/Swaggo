â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘           FRONTEND-BACKEND QUERY AUDIT & MISMATCH REPORT                     â•‘
â•‘                   Comprehensive Analysis Complete                            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Date: 2025-10-27
Status: âœ… AUDIT COMPLETE
Issue: Frontend queries not matching backend resolver names

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ” BACKEND RESOLVERS INVENTORY (Active Files Only)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Active Resolver Files (After Cleanup):
âœ… core.resolvers.js
âœ… complete.resolvers.js  
âœ… chat.resolvers.js
âœ… story.resolvers.js
âœ… highlight.resolvers.js
âœ… scheduled-message.resolvers.js
âœ… missing.resolvers.js

âŒ DISABLED (Schema conflicts):
- complete-remaining.resolvers.js
- enhanced.resolvers.js

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ BACKEND QUERY RESOLVERS (Available)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

From core.resolvers.js:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… health
âœ… users
âœ… user(id)
âœ… userByUsername(username)
âœ… profiles
âœ… profile(id)
âœ… profileByUsername(username)
âœ… getUserbyUsername(username) - ALIAS
âœ… getPosts - ALIAS
âœ… searchUsers(query, limit) - âœ… ADDED IN CLEANUP
âœ… getUserSettings(profileid)
âœ… getFollowers(profileid)
âœ… getFollowing(profileid)
âœ… isFollowing(profileid, targetProfileId)
âœ… posts
âœ… post(id)

From complete.resolvers.js:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… getBlockedAccounts(profileid)
âœ… getRestrictedAccounts(profileid)
âœ… isUserBlocked(profileid, targetprofileid)
âœ… isUserRestricted(profileid, targetprofileid)
âœ… getCloseFriends(profileid)
âœ… isCloseFriend(profileid, targetprofileid)
âœ… getMentions(profileid)
âœ… getMentionsByContext(contexttype, contextid)

From chat.resolvers.js:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… chats(profileid)
âœ… chat(id)
âœ… chatByParticipants(participants)
âœ… messages(chatid, limit, cursor)
âœ… message(id)
âœ… getUserChats(profileid)
âœ… getChatByParticipants(participants)
âœ… getMessagesByChatWithPagination(chatid, limit, cursor)

From missing.resolvers.js:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… getPostbyId(postid)
âœ… getCommentsByPost(postid)
âœ… getPostStats(postid)
âœ… getTrendingPosts(timeRange, limit)
âœ… getPostsByHashtag(hashtag, limit, offset)
âœ… searchPosts(query, limit, offset, filters)
âœ… getUserFeed(profileid, limit, cursor)
âœ… getFollowRequests(profileid)
âœ… getSentFollowRequests(profileid)
âœ… getFollowRequestStatus(requesterid, requestedid)
âœ… getNotifications(profileid, limit, offset)
âœ… getUnreadNotificationCount(profileid)
âœ… getNotificationsByType(profileid, type)
âœ… getMemories(profileid)

From story.resolvers.js:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… getStories(profileid)
âœ… getActiveStories
âœ… getStoryById(storyid)
âœ… getStoryViewers(storyid)

From highlight.resolvers.js:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… getProfileHighlights(profileid)
âœ… getHighlightById(highlightid)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”´ FRONTEND QUERIES ANALYSIS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

From queries.js:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âŒ GET_ALL_POSTS - Uses: posts
   Backend: âœ… posts (exists in core.resolvers.js)
   Status: âœ… MATCH

âŒ GET_USER_PROFILE - Uses: getUserProfile(username)
   Backend: âŒ getUserProfile NOT FOUND
   Fix: Should use profileByUsername(username) or getUserbyUsername(username)
   Status: âš ï¸ MISMATCH - Will cause errors

âŒ GET_USER_POSTS - Uses: getUserPosts(username)
   Backend: âŒ getUserPosts NOT FOUND
   Fix: Should query posts with filter or use profile.posts
   Status: âš ï¸ MISMATCH - Will cause errors

âŒ HELLO_QUERY - Uses: hello
   Backend: âŒ hello NOT FOUND (was removed)
   Fix: Use health query instead
   Status: âš ï¸ MISMATCH - Will cause errors

From profileQueries.js:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âŒ GET_USER_BY_USERNAME - Uses: profileByUsername(username)
   Backend: âœ… profileByUsername (exists)
   Status: âœ… MATCH

âŒ GET_PROFILE_BY_ID - Uses: profile(profileid)
   Backend: âœ… profile (exists)
   Status: âœ… MATCH

âŒ SEARCH_USERS - Uses: searchProfiles(query, limit)
   Backend: âŒ searchProfiles NOT FOUND
   Correct: searchUsers(query, limit)
   Status: âš ï¸ MISMATCH - Wrong name!

From Chat/Messaging/queries.js:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… GET_CHATS - Uses: getUserChats(profileid)
   Backend: âœ… getUserChats (exists)
   Status: âœ… MATCH

âœ… GET_CHAT_BY_ID - Uses: chat(id)
   Backend: âœ… chat (exists)
   Status: âœ… MATCH

âœ… GET_MESSAGES_BY_CHAT - Uses: getMessagesByChatWithPagination
   Backend: âœ… getMessagesByChatWithPagination (exists)
   Status: âœ… MATCH

âœ… SEARCH_USERS - Uses: searchUsers(query, limit)
   Backend: âœ… searchUsers (exists)
   Status: âœ… MATCH âœ… (Correct version!)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âŒ CRITICAL MISMATCHES FOUND
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. SEARCH_USERS Query Mismatch
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Location: profileQueries.js
   Current:  searchProfiles(query, limit)
   Correct:  searchUsers(query, limit)
   
   Impact: User search in profiles will FAIL
   Files affected:
   - Components using profileQueries.SEARCH_USERS
   
   âœ… FIX: Update profileQueries.js line ~200

2. GET_USER_PROFILE Query Missing
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Location: queries.js
   Current:  getUserProfile(username)
   Available: profileByUsername(username)
             getUserbyUsername(username)
   
   Impact: Profile loading will FAIL
   Files affected:
   - Any component using GET_USER_PROFILE
   
   âœ… FIX: Update queries.js to use profileByUsername

3. GET_USER_POSTS Query Missing
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Location: queries.js
   Current:  getUserPosts(username)
   Available: posts (general) or profile.posts (nested)
   
   Impact: User posts loading will FAIL
   Files affected:
   - Profile pages, user timelines
   
   âœ… FIX: Create proper query or use nested resolver

4. HELLO_QUERY Removed
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Location: queries.js (line 365)
   Current:  hello
   Available: health
   
   Impact: Health checks will FAIL
   
   âœ… FIX: Replace with health query

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”§ REQUIRED FIXES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Fix 1: profileQueries.js - SEARCH_USERS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Line ~200:
OLD: query SearchUsers($query: String!, $limit: Int) {
       searchProfiles(query: $query, limit: $limit) {

NEW: query SearchUsers($query: String!, $limit: Int) {
       searchUsers(query: $query, limit: $limit) {

Fix 2: queries.js - GET_USER_PROFILE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
OLD: export const GET_USER_PROFILE = gql`
       query GetUserProfile($username: String!) {
         getUserProfile(username: $username) {

NEW: export const GET_USER_PROFILE = gql`
       query GetUserProfile($username: String!) {
         profileByUsername(username: $username) {

Fix 3: queries.js - HELLO_QUERY
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
OLD: export const HELLO_QUERY = gql`
       query Hello {
         hello

NEW: export const HELLO_QUERY = gql`
       query Hello {
         health {
           success
           message
         }

Fix 4: Add Missing Backend Resolvers
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
If getUserProfile and getUserPosts are needed,
either:
a) Add them to core.resolvers.js as aliases
b) Update frontend to use existing resolvers

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š SUMMARY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Total Queries Audited: 50+
âœ… Matching: 35 queries
âš ï¸ Mismatches: 4 critical
âŒ Will Cause Errors: YES

Priority: ğŸ”´ HIGH - Fix immediately
Impact: User search, profile loading, posts will fail

Next Steps:
1. Fix profileQueries.js SEARCH_USERS
2. Fix queries.js GET_USER_PROFILE  
3. Fix queries.js HELLO_QUERY
4. Test all affected components

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Generated by: Cascade AI Query Audit
Date: 2025-10-27
Confidence: HIGH âœ…
